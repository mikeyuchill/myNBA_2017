(this.webpackJsonpstats=this.webpackJsonpstats||[]).push([[3],{406:function(t,e,a){!function(t){"use strict";var e=d3.scaleLinear().domain([0,47]).rangeRound([47,0]);function a(){var t=500;function a(a){a.each((function(a){if(d3.select(this).style("max-width",t/16+"em"),d3.select(this).selectAll("svg").empty()){(l=d3.select(this).append("svg").attr("viewBox","0, 0, 50, 47").classed("court",!0)).append("g").classed("court-paint",!0).append("rect").attr("width",16).attr("height",19).attr("x",25).attr("transform","translate(-8,0)").attr("y",e(19)),l.append("g").classed("inner-court-paint",!0).append("line").attr("x1",19).attr("x2",19).attr("y1",e(19)).attr("y2",e(0)),l.append("g").classed("inner-court-paint",!0).append("line").attr("x1",31).attr("x2",31).attr("y1",e(19)).attr("y2",e(0));var r=l.append("g").classed("foul-circle dashed",!0);r.append("defs").append("clipPath").attr("id","cut-off-top").append("rect").attr("width",12).attr("height",6).attr("x",25).attr("y",e(19)).attr("transform","translate(-6,0)"),r.append("circle").attr("cx",25).attr("cy",e(19)).attr("r",6).attr("stroke-dasharray","1,1").attr("clip-path","url(#cut-off-top)");var n=l.append("g").classed("foul-circle solid",!0);n.append("defs").append("clipPath").attr("id","cut-off-bottom").append("rect").attr("width",12).attr("height",6).attr("x",25).attr("y",e(19)).attr("transform","translate(-6,-6)"),n.append("circle").attr("cx",25).attr("cy",e(19)).attr("r",6).attr("clip-path","url(#cut-off-bottom)"),l.append("g").classed("backboard",!0).append("line").attr("x1",22).attr("x2",28).attr("y1",e(4)).attr("y2",e(4)),l.append("g").classed("rim",!0).append("circle").attr("cx",25).attr("cy",e(4.75)).attr("r",.75);var s=l.append("g").classed("restricted-area",!0);s.append("defs").append("clipPath").attr("id","restricted-cut-off").append("rect").attr("width",8).attr("height",4).attr("x",25).attr("y",e(4.75)).attr("transform","translate(-4,-4)"),s.append("circle").attr("cx",25).attr("cy",e(4.75)).attr("r",4).attr("clip-path","url(#restricted-cut-off)"),s.append("line").attr("x1",21).attr("x2",21).attr("y1",e(5.25)).attr("y2",e(4)),s.append("line").attr("x1",29).attr("x2",29).attr("y1",e(5.25)).attr("y2",e(4));var c=l.append("g").classed("three-point-area",!0);c.append("defs").append("clipPath").attr("id","three-point-cut-off").append("rect").attr("width",44).attr("height",23.75).attr("x",25).attr("y",e(4.75)).attr("transform","translate(-22,-23.75)"),c.append("circle").attr("cx",25).attr("cy",e(4.75)).attr("r",23.75).attr("clip-path","url(#three-point-cut-off)"),c.append("line").attr("x1",3).attr("x2",3).attr("y1",e(14)).attr("y2",e(0)),c.append("line").attr("x1",47).attr("x2",47).attr("y1",e(14)).attr("y2",e(0));var i=l.append("g").classed("key-lines",!0);i.append("line").attr("x1",16).attr("x2",17).attr("y1",e(7)).attr("y2",e(7)),i.append("line").attr("x1",16).attr("x2",17).attr("y1",e(8)).attr("y2",e(8)),i.append("line").attr("x1",16).attr("x2",17).attr("y1",e(11)).attr("y2",e(11)),i.append("line").attr("x1",16).attr("x2",17).attr("y1",e(14)).attr("y2",e(14)),i.append("line").attr("x1",33).attr("x2",34).attr("y1",e(7)).attr("y2",e(7)),i.append("line").attr("x1",33).attr("x2",34).attr("y1",e(8)).attr("y2",e(8)),i.append("line").attr("x1",33).attr("x2",34).attr("y1",e(11)).attr("y2",e(11)),i.append("line").attr("x1",33).attr("x2",34).attr("y1",e(14)).attr("y2",e(14)),l.append("g").classed("court-baseline",!0).append("line").attr("x1",0).attr("x2",50).attr("y1",e(0)).attr("y2",e(0)),l.append("g").classed("shots",!0)}else var l=d3.select(this).selectAll("svg")}))}return a.width=function(e){return arguments.length?(t=e,a):t},a}var r="scatter",n="day",s=d3.scaleLinear().domain([0,47]).rangeRound([47,0]),c=d3.format(".2%");function i(){var t=[.8,1,1.2],e=1,a=d3.scaleQuantize().domain([0,1]).range(["#5458A2","#6689BB","#FADC97","#F08460","#B02B48"]),i=d3.scaleQuantize().domain([0,2]).range(t),l=!1,o=d3_hexbin.hexbin().radius(1.2).x((function(t){return t.key[0]})).y((function(t){return s(t.key[1])})),d=function(t){var e=d3.nest().key((function(t){return[t.x,t.y]})).rollup((function(t){return{made:d3.sum(t,(function(t){return t.shot_made_flag})),attempts:t.length,shootingPercentage:d3.sum(t,(function(t){return t.shot_made_flag}))/t.length}})).entries(t);return e.forEach((function(t){t.key=JSON.parse("["+t.key+"]")})),e},p=function(t,e){var a=d3.sum(t,(function(t){return t.value.attempts})),r=d3.sum(t,(function(t){return t.value.made})),n=r/a;return t.shootingPercentage=n,t.attempts=a,t.makes=r,t};function u(u){u.each((function(u){var h=d3.select(this).select("svg").select(".shots"),x=d3.select(this).select("#legends"),f=d(u),y=o(f).map(p);if("scatter"===r){if(!1===x.empty()&&x.remove(),(m=h.selectAll(".shot").data(u,(function(t){return[t.x,t.y]}))).exit().transition().duration(1e3).attr("r",0).attr("d",o.hexagon(0)).remove(),l){var g=d3.tip().attr("class","d3-tip").offset([-8,0]).html((function(t){return t.shot_distance+"' "+t.action_type}));h.call(g)}m.enter().append("circle").classed("shot",!0).classed("make",(function(t){return 1===t.shot_made_flag})).classed("miss",(function(t){return 0===t.shot_made_flag})).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return s(t.y)})).attr("r",0).on("mouseover",(function(t){l&&g.show(t)})).on("mouseout",(function(t){l&&g.hide(t)})).transition().duration(1e3).attr("r",.5)}else if("hexbin"===r){var m;if((m=h.selectAll(".shot").data(y,(function(t){return[t.x,t.y]}))).exit().transition().duration(1e3).attr("r",0).attr("d",o.hexagon(0)).remove(),l&&(g=d3.tip().attr("class","d3-tip").offset([-8,0]).html((function(t){return t.makes+" / "+t.attempts+" ("+c(t.shootingPercentage)+")"})),h.call(g)),m.enter().append("path").classed("shot",!0).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).attr("d",o.hexagon(0)).on("mouseover",(function(t){l&&g.show(t)})).on("mouseout",(function(t){l&&g.hide(t)})).transition().duration(1e3).attr("d",(function(t){if(t.length>=e)return t.length<=3?o.hexagon(i(0)):3<t.length&&t.length<=8?o.hexagon(i(1)):o.hexagon(i(2))})).style("fill",(function(t){return a(t.shootingPercentage)})),!0===x.empty()){var v=d3.select(this).append("svg").attr("viewBox","0, 0, 50, 10").attr("id","legends"),b=v.append("g").classed("legend",!0),j=v.append("g").classed("legend",!0).classed("frequency",!0),k=7;b.append("text").classed("legend-text",!0).attr("x",40).attr("y",5).attr("text-anchor","middle").text("Efficiency"),b.append("text").classed("legend-text",!0).attr("x",34.25).attr("y",2.5).attr("text-anchor","end").text("cold"),b.append("text").classed("legend-text",!0).attr("x",45.75).attr("y",2.5).attr("text-anchor","start").text("hot"),b.selectAll("path").data(a.range()).enter().append("path").attr("transform",(function(t,e){return"translate("+(35+1*(1+2*e))+", 2)"})).attr("d",o.hexagon(0)).transition().duration(1e3).attr("d",o.hexagon(1)).style("fill",(function(t){return t})),b.selectAll("text").style("fill",(function(){return"night"===n?"white":"day"===n?"black":void 0})),j.append("text").classed("legend-text",!0).attr("x",10.25).attr("y",5).attr("text-anchor","middle").text("Frequency"),j.append("text").classed("legend-text",!0).attr("x",6.25).attr("y",2.5).attr("text-anchor","end").text("low"),j.selectAll("path").data(t).enter().append("path").attr("transform",(function(t,e){return"translate("+((k+=2*t)-t)+", 2)"})).attr("d",o.hexagon(0)).transition().duration(1e3).attr("d",(function(t){return o.hexagon(t)})),j.append("text").classed("legend-text",!0).attr("x",13.75).attr("y",2.5).attr("text-anchor","start").text("high"),j.selectAll("text").style("fill",(function(){return"night"===n?"white":"day"===n?"black":void 0})),j.selectAll("path").style("fill",(function(){return"night"===n?"none":"day"===n?"grey":void 0}))}}}))}return u.displayType=function(t){return arguments.length?(r=t,u):r},u.shotRenderThreshold=function(t){return arguments.length?(e=t,u):e},u.displayToolTips=function(t){return arguments.length?(l=t,u):l},u.theme=function(t){return arguments.length?(n=t,u):n},u}t.court=a,t.shots=i,Object.defineProperty(t,"__esModule",{value:!0})}(e)},408:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a(2),s=function(t){var e=t.chartType;return Object(n.jsx)(n.Fragment,{children:"hexbin"===e?Object(n.jsx)("text",{className:"lg-text",x:25,y:25,"font-size":"smaller",children:"Hover/Click to see the details"}):Object(n.jsxs)("g",{children:[Object(n.jsx)("text",{className:"lg-text",x:25,y:25,"font-size":"smaller",children:"Hover/Click to see the shot type"}),Object(n.jsx)("circle",{className:"mark",cx:352,cy:20,r:10}),Object(n.jsx)("text",{className:"sl-text",x:370,y:25,children:"Make"}),Object(n.jsx)("circle",{className:"mark miss",cx:437,cy:20,r:10}),Object(n.jsx)("text",{className:"sl-text",x:455,y:25,children:"Miss"})]})})},c=a(121),i=a(22),l=Math.PI/3,o=[0,l,2*l,3*l,4*l,5*l];function d(t){return t[0]}function p(t){return t[1]}var u=a(406);window.d3_hexbin={hexbin:function(){var t,e,a,r=0,n=0,s=1,c=1,i=d,u=p;function h(t){var r,n={},s=[],c=t.length;for(r=0;r<c;++r)if(!isNaN(o=+i.call(null,l=t[r],r,t))&&!isNaN(d=+u.call(null,l,r,t))){var l,o,d,p=Math.round(d/=a),h=Math.round(o=o/e-(1&p)/2),x=d-p;if(3*Math.abs(x)>1){var f=o-h,y=h+(o<h?-1:1)/2,g=p+(d<p?-1:1),m=o-y,v=d-g;f*f+x*x>m*m+v*v&&(h=y+(1&p?1:-1)/2,p=g)}var b=h+"-"+p,j=n[b];j?j.push(l):(s.push(j=n[b]=[l]),j.x=(h+(1&p)/2)*e,j.y=p*a)}return s}function x(t){var e=0,a=0;return o.map((function(r){var n=Math.sin(r)*t,s=-Math.cos(r)*t,c=n-e,i=s-a;return e=n,a=s,[c,i]}))}return h.hexagon=function(e){return"m"+x(null==e?t:+e).join("l")+"z"},h.centers=function(){for(var i=[],l=Math.round(n/a),o=Math.round(r/e),d=l*a;d<c+t;d+=a,++l)for(var p=o*e+(1&l)*e/2;p<s+e/2;p+=e)i.push([p,d]);return i},h.mesh=function(){var e=x(t).slice(0,4).join("l");return h.centers().map((function(t){return"M"+t+"m"+e})).join("")},h.x=function(t){return arguments.length?(i=t,h):i},h.y=function(t){return arguments.length?(u=t,h):u},h.radius=function(r){return arguments.length?(e=2*(t=+r)*Math.sin(l),a=1.5*t,h):t},h.size=function(t){return arguments.length?(r=n=0,s=+t[0],c=+t[1],h):[s-r,c-n]},h.extent=function(t){return arguments.length?(r=+t[0][0],n=+t[0][1],s=+t[1][0],c=+t[1][1],h):[[r,n],[s,c]]},h.radius(1)}};var h=function(t){var e=t.playerId,a=t.minCount,r=t.chartType,s=t.displayToolTip;return c.a.stats.shots({PlayerID:e}).then((function(t){var e=t.map((function(t){return{x:(t[17]+250)/10,y:(t[18]+50)/10,action_type:t[11],shot_distance:t[16],shot_made_flag:t[20]}})),n=i.i("#shot-chart");n.html("");var c=Object(u.court)().width(500),l=Object(u.shots)().shotRenderThreshold(a).displayToolTips(s).displayType(r);n.call(c),n.datum(e).call(l)})),Object(n.jsx)("div",{className:"col-start-2 col-span-4",id:"shot-chart"})},x=Object(r.memo)((function(t){var e=t.state;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,{playerId:e.playerInfo.personId,minCount:e.minCount,chartType:e.chartType,displayToolTip:e.displayToolTips}),Object(n.jsx)("svg",{className:"col-start-2 col-span-7",viewBox:"0 0 500 40",children:Object(n.jsx)(s,{chartType:e.chartType})})]})}));e.default=x}}]);
//# sourceMappingURL=3.9ca1f71e.chunk.js.map
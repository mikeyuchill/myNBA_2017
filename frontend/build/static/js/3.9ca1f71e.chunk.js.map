{"version":3,"sources":["../node_modules/d3-shotchart/build/d3-shotchart.js","components/ShotLegend.js","../node_modules/d3-hexbin/src/hexbin.js","components/ShotChart.js","components/ShotCharts.js"],"names":["exports","yScale","d3","scaleLinear","domain","rangeRound","court","width","selection","each","data","select","this","style","selectAll","empty","svg","append","attr","classed","dashedFoulCircle","solidFoulCircle","restrictedArea","threePointArea","keyLines","_","arguments","length","activeDisplay","activeTheme","yScale$1","percentFormatter","format","shots","hexRadiusValues","hexMinShotThreshold","heatScale","scaleQuantize","range","hexRadiusScale","toolTips","hexbin","d3_hexbin","radius","x","d","key","y","_nestShotsByLocation","nestedData","nest","rollup","v","sum","shot_made_flag","entries","forEach","a","JSON","parse","_getHexBinShootingStats","index","attempts","value","makes","made","shootingPercentage","shotsGroup","legends","hexBinCoords","map","remove","exit","transition","duration","hexagon","tool_tip","tip","offset","html","shot_distance","action_type","call","enter","on","show","hide","legendSVG","efficiencyLegend","frequencyLegend","frequencyLegendXStart","text","i","displayType","shotRenderThreshold","displayToolTips","theme","Object","defineProperty","factory","ShotLegend","chartType","className","cx","cy","r","thirdPi","Math","PI","angles","pointX","pointY","window","dx","dy","x0","y0","x1","y1","points","binsById","bins","n","isNaN","px","point","py","pj","round","pi","py1","abs","px1","pi2","pj2","px2","py2","id","bin","push","angle","sin","cos","join","centers","j","mesh","fragment","slice","p","size","extent","ShotChart","_ref","playerId","minCount","displayToolTip","nbaAPI","stats","PlayerID","then","response","final_shots","shot","courtSelection","chart_court","chart_shots","datum","_jsx","ShotCharts","memo","state","_jsxs","_Fragment","children","playerInfo","personId","viewBox"],"mappings":"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","file":"static/js/3.9ca1f71e.chunk.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  // SCALES USED TO INVERT COURT Y COORDS AND MAP SHOOTING PERCENTAGES OF BINS TO A FILL COLOR \n  var yScale = d3.scaleLinear().domain([0, 47]).rangeRound([47, 0]);\n\n  function court() {\n      // NBA court dimensions are 50ft sideline to sideline and 94feet baseline to baseline (47ft half court)\n      // Forcing at least a 500x470 ratio for the court in order to paint shots appropriately        \n      var width = 500,\n          height = .94 * width;\n\n      function court(selection){\n          \n          selection.each(function(data){\n              // Responsive container for the shotchart\n              d3.select(this).style(\"max-width\", width/16 + \"em\");\n              // Select the SVG if it exists\n              if (!d3.select(this).selectAll(\"svg\").empty()){\n                  var svg = d3.select(this).selectAll(\"svg\");\n              }\n              else {\n                  var svg = d3.select(this).append(\"svg\")\n                      .attr(\"viewBox\", \"0, 0, \" + 50 + \", \" + 47 + \"\")\n                      .classed(\"court\", true);\n              // Append the outer paint rectangle\n                  svg.append(\"g\")\n                      .classed(\"court-paint\", true)\n                      .append(\"rect\")\n                      .attr(\"width\", 16)\n                      .attr(\"height\", 19) \n                      .attr(\"x\", 25)\n                      .attr(\"transform\", \"translate(\" + -8 + \",\" + 0 + \")\")\n                      .attr(\"y\", yScale(19));\n                  // Append inner paint lines\n                  svg.append(\"g\")\n                      .classed(\"inner-court-paint\", true)\n                      .append(\"line\")\n                      .attr(\"x1\", 19)\n                      .attr(\"x2\", 19)\n                      .attr(\"y1\", yScale(19))\n                      .attr(\"y2\", yScale(0));\n                  svg.append(\"g\")\n                      .classed(\"inner-court-paint\", true)\n                      .append(\"line\")        \n                      .attr(\"x1\", 31)\n                      .attr(\"x2\", 31)\n                      .attr(\"y1\", yScale(19))\n                      .attr(\"y2\", yScale(0));\n                  // Append foul circle\n                  // Add clipPaths w/ rectangles to make the 2 semi-circles with our desired styles\n                  var dashedFoulCircle = svg.append(\"g\").classed(\"foul-circle dashed\", true);\n                  dashedFoulCircle.append(\"defs\").append(\"clipPath\")\n                      .attr(\"id\", \"cut-off-top\")\n                      .append(\"rect\")\n                      .attr(\"width\", 12)\n                      .attr(\"height\", 6) \n                      .attr(\"x\", 25)\n                      .attr(\"y\", yScale(19)) // 47-19 (top of rectangle is pinned to foul line, which is at 19 ft)\n                      .attr(\"transform\", \"translate(\" + -6 + \",\" + 0 + \")\");\n                  dashedFoulCircle.append(\"circle\")\n                      .attr(\"cx\", 25)\n                      .attr(\"cy\", yScale(19)) // 47-19\n                      .attr(\"r\", 6)\n                      .attr(\"stroke-dasharray\", 1 + \",\" + 1)\n                      .attr(\"clip-path\", \"url(#cut-off-top)\");\n                  var solidFoulCircle = svg.append(\"g\").classed(\"foul-circle solid\", true);\n                  solidFoulCircle.append(\"defs\").append(\"clipPath\")\n                      .attr(\"id\", \"cut-off-bottom\")\n                      .append(\"rect\")\n                      .attr(\"width\", 12)\n                      .attr(\"height\", 6) \n                      .attr(\"x\", 25)\n                      .attr(\"y\", yScale(19)) /*foul line is 19 feet, then transform by 6 feet (circle radius) to pin rectangle above foul line..clip paths only render the parts of the circle that are in the rectangle path */\n                      .attr(\"transform\", \"translate(\" + -6 + \",\" + -6 + \")\");\n                  solidFoulCircle.append(\"circle\")\n                      .attr(\"cx\", 25)\n                      .attr(\"cy\", yScale(19))\n                      .attr(\"r\", 6)\n                      .attr(\"clip-path\", \"url(#cut-off-bottom)\");\n                  // Add backboard and rim\n                  svg.append(\"g\").classed(\"backboard\", true)\n                      .append(\"line\")        \n                      .attr(\"x1\", 22)\n                      .attr(\"x2\", 28)\n                      .attr(\"y1\", yScale(4)) // 47-4\n                      .attr(\"y2\", yScale(4)); // 47-4\n                  svg.append(\"g\").classed(\"rim\", true)\n                      .append(\"circle\")\n                      .attr(\"cx\", 25)\n                      .attr(\"cy\", yScale(4.75)) // 47-4.75 need to set center point of circle to be 'r' above backboard\n                      .attr(\"r\", .75); //regulation rim is 18 inches\n                  // Add restricted area -- a 4ft radius circle from the center of the rim\n                  var restrictedArea = svg.append(\"g\").classed(\"restricted-area\", true);\n                  restrictedArea.append(\"defs\").append(\"clipPath\")\n                      .attr(\"id\", \"restricted-cut-off\")\n                      .append(\"rect\")\n                      .attr(\"width\", 8) // width is 2r of the circle it's cutting off\n                      .attr(\"height\", 4) // height is 1r of the circle it's cutting off\n                      .attr(\"x\", 25) // center rectangle\n                      .attr(\"y\", yScale(4.75))\n                      .attr(\"transform\", \"translate(\" + -4 + \",\" + -4 + \")\");\n                  restrictedArea.append(\"circle\")\n                      .attr(\"cx\", 25)\n                      .attr(\"cy\", yScale(4.75))\n                      .attr(\"r\", 4)\n                      .attr(\"clip-path\", \"url(#restricted-cut-off)\");\n                  restrictedArea.append(\"line\")\n                      .attr(\"x1\", 21)\n                      .attr(\"x2\", 21)\n                      .attr(\"y1\", yScale(5.25))\n                      .attr(\"y2\", yScale(4));\n                  restrictedArea.append(\"line\")\n                      .attr(\"x1\", 29)\n                      .attr(\"x2\", 29)\n                      .attr(\"y1\", yScale(5.25))\n                      .attr(\"y2\", yScale(4));\n                  // Add 3 point arc\n                  var threePointArea = svg.append(\"g\").classed(\"three-point-area\", true);\n                  threePointArea.append(\"defs\").append(\"clipPath\")\n                      .attr(\"id\", \"three-point-cut-off\")\n                      .append(\"rect\")\n                      .attr(\"width\", 44)\n                      .attr(\"height\", 23.75)\n                      .attr(\"x\", 25)\n                      .attr(\"y\", yScale(4.75)) // put recentagle at centerpoint of circle then translate by the inverse of the circle radius to cut off top half\n                      .attr(\"transform\", \"translate(\" + -22 + \",\" + -23.75 + \")\");                \n                  threePointArea.append(\"circle\")\n                      .attr(\"cx\", 25)\n                      .attr(\"cy\", yScale(4.75))\n                      .attr(\"r\", 23.75)\n                      .attr(\"clip-path\", \"url(#three-point-cut-off)\");                   \n                  threePointArea.append(\"line\")\n                      .attr(\"x1\", 3)\n                      .attr(\"x2\", 3)\n                      .attr(\"y1\", yScale(14))\n                      .attr(\"y2\", yScale(0));\n                  threePointArea.append(\"line\")\n                      .attr(\"x1\", 47)\n                      .attr(\"x2\", 47)\n                      .attr(\"y1\", yScale(14))\n                      .attr(\"y2\", yScale(0)); \n                  // Add key lines\n                  var keyLines = svg.append(\"g\").classed(\"key-lines\", true);\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 16)\n                      .attr(\"x2\", 17)\n                      .attr(\"y1\", yScale(7))\n                      .attr(\"y2\", yScale(7));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 16)\n                      .attr(\"x2\", 17)\n                      .attr(\"y1\", yScale(8))\n                      .attr(\"y2\", yScale(8));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 16)\n                      .attr(\"x2\", 17)\n                      .attr(\"y1\", yScale(11))\n                      .attr(\"y2\", yScale(11));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 16)\n                      .attr(\"x2\", 17)\n                      .attr(\"y1\", yScale(14))\n                      .attr(\"y2\", yScale(14));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 33)\n                      .attr(\"x2\", 34)\n                      .attr(\"y1\", yScale(7))\n                      .attr(\"y2\", yScale(7));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 33)\n                      .attr(\"x2\", 34)\n                      .attr(\"y1\", yScale(8))\n                      .attr(\"y2\", yScale(8));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 33)\n                      .attr(\"x2\", 34)\n                      .attr(\"y1\", yScale(11))\n                      .attr(\"y2\", yScale(11));\n                  keyLines.append(\"line\")\n                      .attr(\"x1\", 33)\n                      .attr(\"x2\", 34)\n                      .attr(\"y1\", yScale(14))\n                      .attr(\"y2\", yScale(14));\n                  // Append baseline\n                  svg.append(\"g\")\n                      .classed(\"court-baseline\", true)\n                      .append(\"line\")\n                      .attr(\"x1\", 0)\n                      .attr(\"x2\", 50)\n                      .attr(\"y1\", yScale(0))\n                      .attr(\"y2\", yScale(0)); \n\n                  svg.append(\"g\").classed(\"shots\", true);\n                  \n              };            \n          });\n      };\n\n    court.width = function(_) {\n      if (!arguments.length) return width;\n      width = _;\n      height = .94 * _;\n      return court;\n    };\n\n      return court;\n  };\n\n  var activeDisplay = \"scatter\";\n  var activeTheme = \"day\";\n  // SCALES USED TO INVERT COURT Y COORDS AND MAP SHOOTING PERCENTAGES OF BINS TO A FILL COLOR \n  var yScale$1 = d3.scaleLinear().domain([0, 47]).rangeRound([47, 0]);\n  var percentFormatter = d3.format(\".2%\");\n\n  function shots() {\n      \n      var hexRadiusValues = [.8, 1, 1.2],\n          hexMinShotThreshold = 1,\n          heatScale = d3.scaleQuantize().domain([0, 1]).range(['#5458A2', '#6689BB', '#FADC97', '#F08460', '#B02B48']),\n          hexRadiusScale = d3.scaleQuantize().domain([0, 2]).range(hexRadiusValues),\n          toolTips = false,\n          hexbin = d3_hexbin.hexbin()\n                  .radius(1.2)\n                  .x(function(d) { return d.key[0]; }) // accessing the x, y coords from the nested json key\n                  .y(function(d) { return yScale$1(d.key[1]); });        \n      \n      var _nestShotsByLocation = function(data) {\n          var nestedData = d3.nest()\n              .key(function(d) {\n                  return [d.x, d.y];\n              })\n              .rollup(function(v) { return {\n                  \"made\": d3.sum(v, function(d) { return d.shot_made_flag }),\n                  \"attempts\": v.length,\n                  \"shootingPercentage\":  d3.sum(v, function(d) { return d.shot_made_flag })/v.length\n              }})\n              .entries(data);\n          // change to use a string split and force cast to int\n          nestedData.forEach(function(a){\n              a.key = JSON.parse(\"[\" + a.key + \"]\");\n          });\n\n          return nestedData;\n      };\n\n      var _getHexBinShootingStats = function(data, index) {\n          var attempts = d3.sum(data, function(d) { return d.value.attempts; })\n          var makes = d3.sum(data, function(d) { return d.value.made; })\n          var shootingPercentage = makes/attempts;\n          data.shootingPercentage = shootingPercentage;\n          data.attempts = attempts;\n          data.makes = makes;\n          return data;\n      };\n      \n\n      function shots(selection){\n\n          selection.each(function(data){\n\n              var shotsGroup = d3.select(this).select(\"svg\").select(\".shots\"),\n                  legends = d3.select(this).select(\"#legends\"),\n                  nestedData = _nestShotsByLocation(data),\n                  hexBinCoords = hexbin(nestedData).map(_getHexBinShootingStats);\n\n              if (activeDisplay === \"scatter\"){\n                  if (legends.empty() === false){\n                      legends.remove();\n                  }\n                  \n                  var shots = shotsGroup.selectAll(\".shot\")\n                                      .data(data, function(d){ return [d.x, d.y]; });\n                  shots.exit()\n                      .transition().duration(1000)\n                      .attr(\"r\", 0)\n                      .attr(\"d\", hexbin.hexagon(0))\n                      .remove();\n\n                  if (toolTips) {\n                      var tool_tip = d3.tip()\n                        .attr(\"class\", \"d3-tip\")\n                        .offset([-8, 0])\n                        .html(function(d) { \n                              return d.shot_distance + \"' \" + d.action_type; \n                          });\n                      \n                      shotsGroup.call(tool_tip);\n                  }\n\n                  shots.enter()\n                      .append(\"circle\")\n                      .classed(\"shot\", true)\n                      .classed(\"make\", function(d){\n                            return d.shot_made_flag === 1; // used to set fill color to green if it's a made shot\n                      })\n                      .classed(\"miss\", function(d){\n                            return d.shot_made_flag === 0; // used to set fill color to red if it's a miss\n                      })\n                      .attr(\"cx\", function(d) { return d.x; })\n                      .attr(\"cy\", function(d) { return yScale$1(d.y); })\n                      .attr(\"r\", 0)\n                      .on('mouseover', function(d) { if (toolTips) {tool_tip.show(d);} })\n                      .on('mouseout', function(d) { if (toolTips) {tool_tip.hide(d);} })\n                      .transition().duration(1000)\n                      .attr(\"r\", .5);\n                  \n              }\n              else if (activeDisplay === \"hexbin\"){\n\n                  var shots = shotsGroup.selectAll(\".shot\")\n                                      .data(hexBinCoords, function(d){ return [d.x, d.y]; });\n\n                  shots.exit()\n                      .transition().duration(1000)\n                      .attr(\"r\", 0)\n                      .attr(\"d\", hexbin.hexagon(0))                \n                      .remove();\n                  \n                  if (toolTips) {\n                      var tool_tip = d3.tip()\n                        .attr(\"class\", \"d3-tip\")\n                        .offset([-8, 0])\n                        .html(function(d) { \n                              return d.makes + \" / \" + d.attempts + \" (\" + percentFormatter(d.shootingPercentage) + \")\"; \n                          });\n                      \n                      shotsGroup.call(tool_tip);\n                  }\n\n                  shots.enter()                \n                      .append(\"path\")\n                      .classed(\"shot\", true)\n                      .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\n                      .attr(\"d\", hexbin.hexagon(0))\n                      .on('mouseover', function(d) { if (toolTips) {tool_tip.show(d);} })\n                      .on('mouseout', function(d) { if (toolTips) {tool_tip.hide(d);} })\n                      .transition().duration(1000)\n                      .attr(\"d\", function(d) { \n                                  if (d.length >= hexMinShotThreshold) {\n                                      if (d.length <= 3){\n                                          return hexbin.hexagon(hexRadiusScale(0));\n                                      }\n                                      else if (3 < d.length && d.length <= 8){\n                                          return hexbin.hexagon(hexRadiusScale(1));\n                                      }\n                                      else {\n                                          return hexbin.hexagon(hexRadiusScale(2));\n                                      }\n                                  } \n                              })\n                      .style(\"fill\", function(d) { return heatScale(d.shootingPercentage); });\n                  \n                  // CHANGE TO USE SELECTION.EMPTY()\n                  if (legends.empty() === true){\n                      var legendSVG = d3.select(this).append('svg').attr(\"viewBox\", \"0, 0, \" + 50 + \", \" + 10 + \"\").attr('id', 'legends'),\n                          efficiencyLegend = legendSVG.append('g').classed('legend', true),\n                          frequencyLegend = legendSVG.append('g').classed('legend', true)\n                                                              .classed('frequency', true),\n                          frequencyLegendXStart = 7;\n\n                      efficiencyLegend.append(\"text\")\n                                      .classed('legend-text', true)\n                                      .attr(\"x\", 40)             \n                                      .attr(\"y\", 5)\n                                      .attr(\"text-anchor\", \"middle\") \n                                      .text(\"Efficiency\");\n                      efficiencyLegend.append(\"text\")\n                                      .classed(\"legend-text\", true)\n                                      .attr(\"x\", 34.25)             \n                                      .attr(\"y\", 2.5)\n                                      .attr(\"text-anchor\", \"end\") \n                                      .text(\"cold\");\n                      efficiencyLegend.append(\"text\")\n                                      .classed(\"legend-text\", true)\n                                      .attr(\"x\", 45.75)             \n                                      .attr(\"y\", 2.5)\n                                      .attr(\"text-anchor\", \"start\") \n                                      .text(\"hot\");\n                      efficiencyLegend.selectAll('path').data(heatScale.range())\n                                      .enter()\n                                      .append('path')\n                                      .attr(\"transform\", function (d, i) {\n                                        return \"translate(\" + \n                                          (35 + ((1 + i*2) * 1)) + \", \" + 2 + \")\";\n                                      })\n                                      .attr('d', hexbin.hexagon(0))\n                                      .transition().duration(1000)\n                                      .attr('d', hexbin.hexagon(1))\n                                      .style('fill', function (d) { return d; });\n                      efficiencyLegend.selectAll(\"text\").style(\"fill\", function(){ \n                                          if (activeTheme === \"night\"){ return \"white\"; }\n                                          else if (activeTheme === \"day\"){ return \"black\"; };\n                                      });\n                      \n                      frequencyLegend.append(\"text\")\n                                      .classed('legend-text', true)\n                                      .attr(\"x\", 10.25)             \n                                      .attr(\"y\", 5)\n                                      .attr(\"text-anchor\", \"middle\")  \n                                      .text(\"Frequency\");\n                      frequencyLegend.append(\"text\")\n                                      .classed(\"legend-text\", true)\n                                      .attr(\"x\", 6.25)             \n                                      .attr(\"y\", 2.5)\n                                      .attr(\"text-anchor\", \"end\")  \n                                      .text(\"low\");\n                      frequencyLegend.selectAll('path').data(hexRadiusValues)\n                                      .enter()\n                                      .append('path')\n                                      .attr(\"transform\", function (d, i) {\n                                          frequencyLegendXStart += d * 2;\n                                          return \"translate(\" + (frequencyLegendXStart - d) + \", \" + 2 + \")\";\n                                      })\n                                      .attr('d', hexbin.hexagon(0))\n                                      .transition().duration(1000)\n                                      .attr('d', function (d) { return hexbin.hexagon(d); })\n                      frequencyLegend.append(\"text\")\n                                      .classed(\"legend-text\", true)\n                                      .attr(\"x\", 13.75)             \n                                      .attr(\"y\", 2.5)\n                                      .attr(\"text-anchor\", \"start\")  \n                                      .text(\"high\");\n                      \n                      frequencyLegend.selectAll(\"text\").style(\"fill\", function(){ \n                                          if (activeTheme === \"night\"){ return \"white\"; }\n                                          else if (activeTheme === \"day\"){ return \"black\"; };\n                                      })\n                      frequencyLegend.selectAll(\"path\").style(\"fill\", function(){ \n                                          if (activeTheme === \"night\"){ return \"none\"; }\n                                          else if (activeTheme === \"day\"){ return \"grey\"; };\n                                      });\n                  };                                                      \n              };\n          });\n      };\n    \n    shots.displayType = function(_) {\n      if (!arguments.length) return activeDisplay;\n      activeDisplay = _;\n      return shots;\n    };\n    \n    shots.shotRenderThreshold = function(_) {\n      if (!arguments.length) return hexMinShotThreshold;\n      hexMinShotThreshold = _;\n      return shots;\n    }; \n    \n    shots.displayToolTips = function(_) {\n      if (!arguments.length) return toolTips;\n      toolTips = _;\n      return shots;\n    };\n\n    shots.theme = function(_) {\n      if (!arguments.length) return activeTheme;\n      activeTheme = _;\n      return shots;\n    };\n\n\n      return shots;\n  };\n\n  exports.court = court;\n  exports.shots = shots;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","import React from 'react'\n\nconst ShotLegend = ({ chartType }) => {\n  return (\n    <>\n      {chartType === \"hexbin\" ?\n        <text className=\"lg-text\" x={25} y={25} font-size=\"smaller\">Hover/Click to see the details</text>\n        :\n        <g>\n          <text className=\"lg-text\" x={25} y={25} font-size=\"smaller\">Hover/Click to see the shot type</text>\n          <circle\n            className=\"mark\"\n            cx={352}\n            cy={20}\n            r={10}\n          />\n          <text className=\"sl-text\" x={370} y={25} >Make</text>\n          <circle className=\"mark miss\"\n            cx={437}\n            cy={20}\n            r={10}\n          />\n          <text className=\"sl-text\" x={455} y={25} >Miss</text>\n        </g>\n      }\n    </>\n  )\n}\n\nexport default ShotLegend\n","var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n","import React from 'react';\nimport nbaAPI from '../nba-client';\nimport * as d3 from 'd3';\nimport { hexbin } from 'd3-hexbin';\nimport { court, shots } from 'd3-shotchart';\nimport PropTypes from 'prop-types';\n\nwindow.d3_hexbin = { hexbin: hexbin }; // workaround library problem\n\nconst ShotChart = ({ playerId, minCount, chartType, displayToolTip }) => {\n    nbaAPI.stats.shots({\n        PlayerID: playerId\n    }).then((response) => {\n        // https://github.com/mc-buckets/d3-shotchart\n        const final_shots = response.map(shot => ({\n            x: (shot[17] + 250) / 10, // .locX\n            y: (shot[18] + 50) / 10, // .locY\n            action_type: shot[11], // .actionType\n            shot_distance: shot[16], // .shotDistance\n            shot_made_flag: shot[20], // .shotMadeFlag\n        }));\n\n        // get the type of displayTooltip\n        const courtSelection = d3.select(\"#shot-chart\");\n        courtSelection.html('');\n        const chart_court = court().width(500);\n        const chart_shots = shots()\n            .shotRenderThreshold(minCount)\n            .displayToolTips(displayToolTip)\n            .displayType(chartType);\n        courtSelection.call(chart_court); // Invoke the function exactly once, passing the specified arguments and context.\n        // reference: https://bost.ocks.org/mike/selection/#data\n        courtSelection.datum(final_shots).call(chart_shots);\n    });\n    return (\n        // <svg width=\"500\"\n        // height=\"470\"\n        // viewBox={`0 0 ${500} ${470}`}\n        // id=\"shot-chart\"/>\n        <div className=\"col-start-2 col-span-4\" id=\"shot-chart\"></div>\n    )\n}\n\nexport default ShotChart\n","import React, { memo } from 'react'\nimport ShotLegend from \"./ShotLegend\"\nimport ShotChart from \"./ShotChart\"\n\nconst ShotCharts = memo(({ state }) => {\n  return (\n    <>\n      <ShotChart\n        playerId={state.playerInfo.personId}\n        minCount={state.minCount}\n        chartType={state.chartType}\n        displayToolTip={state.displayToolTips}\n      />\n      <svg\n        className=\"col-start-2 col-span-7\"\n        viewBox={`0 0 500 40`}\n      >\n        <ShotLegend chartType={state.chartType} />\n      </svg>\n    </>\n  )\n})\n\nexport default ShotCharts\n"],"sourceRoot":""}